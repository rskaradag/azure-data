# Naming structure according to CAF
## <Resource Type>-<Worklaod/App>-<Environment>-<Azure Region>-<Instance>
## Resouce type will be added via lookup at the resource.
locals {

  baseName = lower(join("-", [var.applicationName, var.environment, var.azureRegion]))
  # Certain resourecs like storage accounts need lowercase with no non-alphanumerics.
  safeName = replace(local.baseName, "-", "")
  # Some things like sql databases work better in other tools with underscores rather than hyphens.
  underscoredName = replace(local.baseName, "-", "_")
}

# Contains all constants for resource naming for this Terraform solution
# See: https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-best-practices/resource-abbreviations
locals {
  azPrefix = {
    ai_search                                      = "srch"
    aks_cluster                                    = "aks"
    aks_system_node_pool                           = "npsystem"
    aks_user_node_pool                             = "np"
    api_management_service_instance                = "apim"
    app_configuration_store                        = "appcs"
    app_service_environment                        = "ase"
    app_service_plan                               = "asp"
    application_insights                           = "appi"
    application_gateway                            = "agw"
    application_security_group_asg                 = "asg"
    automation_account                             = "aa"
    availability_set                               = "avail"
    azure_ai_video_indexer                         = "avi"
    azure_ai_services_multiservice_account         = "aisa"
    azure_analysis_services_server                 = "as"
    azure_arc_enabled_kubernetes_cluster           = "arck"
    azure_arc_enabled_server                       = "arcs"
    azure_bastion                                  = "bas"
    azure_cache_for_redis_instance                 = "redis"
    azure_cosmos_db_postgresql_cluster             = "cospos"
    azure_cosmos_db_database                       = "cosmos"
    azure_cosmos_db_for_apache_cassandra_account   = "coscas"
    azure_cosmos_db_for_apache_gremlin_account     = "cosgrm"
    azure_cosmos_db_for_mongodb_account            = "cosmon"
    azure_cosmos_db_for_nosql_account              = "cosno"
    azure_cosmos_db_for_table_account              = "costab"
    azure_data_explorer_cluster                    = "dec"
    azure_data_explorer_cluster_database           = "dedb"
    azure_data_factory                             = "adf"
    azure_databricks_workspace                     = "dbw"
    azure_digital_twin_instance                    = "dt"
    azure_lab_services_lab_plan                    = "lp"
    azure_load_testing_instance                    = "lt"
    azure_machine_learning_workspace               = "mlw"
    azure_managed_grafana                          = "amg"
    azure_migrate_project                          = "migr"
    azure_monitor_action_group                     = "ag"
    azure_monitor_data_collection_rules            = "dcr"
    azure_openai_service                           = "oai"
    azure_sql_database_server                      = "sql"
    azure_sql_elastic_job_agent                    = "sqlja"
    azure_sql_elastic_pool                         = "sqlep"
    azure_sql_database                             = "sqldb"
    azure_storsimple                               = "ssimp"
    azure_stream_analytics                         = "asa"
    azure_synapse_analytics_sql_dedicated_pool     = "syndp"
    azure_synapse_analytics_spark_pool             = "synsp"
    azure_synapse_analytics_private_link_hub       = "synplh"
    azure_synapse_analytics_workspaces             = "synw"
    backup_vault_name                              = "bvault"
    backup_vault_policy                            = "bkpol"
    batch_accounts                                 = "ba"
    blueprint                                      = "bp"
    blueprint_assignment                           = "bpa"
    bot_service                                    = "bot"
    cdn_endpoint                                   = "cdne"
    cdn_profile                                    = "cdnp"
    cloud_service                                  = "cld"
    communication_services                         = "acs"
    computer_vision                                = "cv"
    connections                                    = "con"
    container_apps                                 = "ca"
    container_apps_environment                     = "cae"
    container_instance                             = "ci"
    container_registry                             = "cr"
    content_moderator                              = "cm"
    content_safety                                 = "cs"
    custom_vision_prediction                       = "cstv"
    custom_vision_training                         = "cstvt"
    dns_forwarding_ruleset                         = "dnsfrs"
    dns_private_resolver                           = "dnspr"
    dns_private_resolver_inbound_endpoint          = "in"
    dns_private_resolver_outbound_endpoint         = "out"
    data_lake_analytics_account                    = "dla"
    data_lake_store_account                        = "dls"
    data_collection_endpoint                       = "dce"
    database_migration_service_instance            = "dms"
    disk_encryption_set                            = "des"
    document_intelligence                          = "di"
    event_grid_domain                              = "evgd"
    event_grid_subscriptions                       = "evgs"
    event_grid_system_topic                        = "egst"
    event_grid_topic                               = "evgt"
    event_hubs_namespace                           = "evhns"
    event_hub                                      = "evh"
    expressroute_circuit                           = "erc"
    expressroute_gateway                           = "ergw"
    face_api                                       = "face"
    file_share                                     = "share"
    firewall                                       = "afw"
    firewall_policy                                = "afwp"
    front_door_standardpremium_endpoint            = "fde"
    front_door_standardpremium_profile             = "afd"
    front_door_classic                             = "afd"
    front_door_firewall_policy                     = "fdfp"
    function_app                                   = "func"
    gallery                                        = "gal"
    hdinsight_hbase_cluster                        = "hbase"
    hdinsight_hadoop_cluster                       = "hadoop"
    hdinsight_kafka_cluster                        = "kafka"
    hdinsight_ml_services_cluster                  = "mls"
    hdinsight_spark_cluster                        = "spark"
    hdinsight_storm_cluster                        = "storm"
    health_insights                                = "hi"
    hosting_environment                            = "host"
    ip_group                                       = "ipg"
    image_template                                 = "it"
    immersive_reader                               = "ir"
    integration_account                            = "ia"
    iot_hub                                        = "iot"
    key_vault_managed_hsm                          = "kvmhsm"
    key_vault                                      = "kv"
    language_service                               = "lang"
    load_balancer_external                         = "lbe"
    load_balancer_internal                         = "lbi"
    load_balancer_rule                             = "rule"
    local_network_gateway                          = "lgw"
    log_analytics_query_packs                      = "pack"
    log_analytics_workspace                        = "log"
    logic_app                                      = "logic"
    managed_disk_os                                = "osdisk"
    managed_disk_data                              = "disk"
    managed_identity                               = "id"
    management_group                               = "mg"
    maps_account                                   = "map"
    mariadb_database                               = "mariadb"
    mariadb_server                                 = "maria"
    microsoft_purview_instance                     = "pview"
    mysql_database                                 = "mysql"
    nat_gateway                                    = "ng"
    network_watcher                                = "nw"
    network_interface_nic                          = "nic"
    network_security_group_nsg                     = "nsg"
    network_security_group_nsg_security_rules      = "nsgsr"
    notification_hubs                              = "ntf"
    notification_hubs_namespace                    = "ntfns"
    postgresql_database                            = "psql"
    power_bi_embedded                              = "pbi"
    private_link                                   = "pl"
    private_endpoint                               = "pep"
    provisioning_services                          = "provs"
    provisioning_services_certificate              = "pcert"
    proximity_placement_group                      = "ppg"
    public_ip_address                              = "pip"
    public_ip_address_prefix                       = "ippre"
    recovery_services_vault                        = "rsv"
    resource_group                                 = "rg"
    restore_point_collection                       = "rpc"
    route_filter                                   = "rf"
    route_server                                   = "rtserv"
    route_table                                    = "rt"
    sql_managed_instance                           = "sqlmi"
    sql_server_stretch_database                    = "sqlstrdb"
    ssh_key                                        = "sshkey"
    service_bus_namespace                          = "sbns"
    service_bus_queue                              = "sbq"
    service_bus_topic                              = "sbt"
    service_bus_topic_subscription                 = "sbts"
    service_fabric_cluster                         = "sf"
    service_fabric_managed_cluster                 = "sfmc"
    service_endpoint_policy                        = "se"
    signalr                                        = "sigr"
    snapshot                                       = "snap"
    speech_service                                 = "spch"
    static_web_app                                 = "stapp"
    storage_sync_service_name                      = "sss"
    storage_account                                = "st"
    template_specs_name                            = "ts"
    time_series_insights_environment               = "tsi"
    traffic_manager_profile                        = "traf"
    translator                                     = "trsl"
    user_defined_route_udr                         = "udr"
    vm_storage_account                             = "stvm"
    vpn_gateway                                    = "vpng"
    vpn_connection                                 = "vcn"
    vpn_site                                       = "vst"
    virtual_wan                                    = "vwan"
    virtual_wan_hub                                = "vhub"
    virtual_desktop_application_group              = "vdag"
    virtual_desktop_host_pool                      = "vdpool"
    virtual_desktop_scaling_plan                   = "vdscaling"
    virtual_desktop_workspace                      = "vdws"
    virtual_machine                                = "vm"
    virtual_machine_maintenance_configuration      = "mc"
    virtual_machine_scale_set                      = "vmss"
    virtual_network                                = "vnet"
    virtual_network_gateway                        = "vgw"
    virtual_network_manager                        = "vnm"
    virtual_network_peering                        = "peer"
    virtual_network_subnet                         = "snet"
    web_application_firewall_waf_policy            = "waf"
    web_application_firewall_waf_policy_rule_group = "wafrg"
    web_app                                        = "app"
    webpubsub                                      = "wps"
  }
}